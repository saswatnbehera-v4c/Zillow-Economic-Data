resources:
  jobs:
    zillow_csv_ingestion_job:
      name: Zillow_CSV_Ingestion_Job
      tasks:
        - task_key: Ingest_CSV
          email_notifications: {}
          notebook_task:
            notebook_path: ../src/pipelines/01_bronze/ingest_csv_bulk.ipynb
            source: WORKSPACE
          run_if: ALL_SUCCESS
          timeout_seconds: 0
          webhook_notifications: {}
        - task_key: Unit_Tests
          depends_on:
            - task_key: Ingest_CSV
          email_notifications: {}
          notebook_task:
            base_parameters:
              file_format: .csv
              table_name: county_metrics
            notebook_path: ../src/tests/test_bronze_ingestion.ipynb
            source: WORKSPACE
          run_if: ALL_SUCCESS
          timeout_seconds: 0
          webhook_notifications: {}
      deployment:
        kind: BUNDLE
        metadata_file_path: /Workspace/Users/saswat.n.behera@v4c.ai/.bundle/zillow_project/dev/state/metadata.json
      edit_mode: EDITABLE
      email_notifications: {}
      max_concurrent_runs: 1
      performance_target: PERFORMANCE_OPTIMIZED
      queue:
        enabled: true
      run_as:
        user_name: saswat.n.behera@v4c.ai
      tags:
        "dev": "saswat_n_behera"
      timeout_seconds: 0
      webhook_notifications: {}
